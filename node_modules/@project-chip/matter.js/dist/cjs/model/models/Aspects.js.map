{
  "version": 3,
  "sources": ["../../../../src/model/models/Aspects.ts"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2022-2024 Matter.js Authors\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ModelTraversal } from \"../logic/ModelTraversal.js\";\nimport { Model } from \"./Model.js\";\n\nexport namespace Aspects {\n    export function getAspect<T>(model: Model, symbol: symbol, constructor: new (definition: any) => T) {\n        return ((model as any)[symbol] as T) || ((model as any)[symbol] = new constructor(undefined));\n    }\n\n    export function setAspect(model: Model, symbol: symbol, constructor: new (definition: any) => any, value: any) {\n        if (value instanceof constructor) {\n            (model as any)[symbol] = value;\n        } else {\n            (model as any)[symbol] = new constructor(value);\n        }\n    }\n\n    export function cloneAspects(source: Model, dest: Model, ...symbols: symbol[]) {\n        for (const symbol of symbols) {\n            const aspect = (source as any)[symbol];\n            if (aspect !== undefined) {\n                (dest as any)[symbol] = aspect;\n            }\n        }\n    }\n\n    export function getEffectiveAspect<T>(model: Model, symbol: symbol, constructor: new (definition: any) => T) {\n        const aspect = new ModelTraversal().findAspect(model, symbol) as T | undefined;\n        if (aspect) {\n            return aspect;\n        }\n        return getAspect(model, symbol, constructor);\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,4BAA+B;AAN/B;AAAA;AAAA;AAAA;AAAA;AASO,IAAU;AAAA,CAAV,CAAUA,aAAV;AACI,WAAS,UAAa,OAAc,QAAgB,aAAyC;AAChG,WAAS,MAAc,MAAM,MAAa,MAAc,MAAM,IAAI,IAAI,YAAY,MAAS;AAAA,EAC/F;AAFO,EAAAA,SAAS;AAIT,WAAS,UAAU,OAAc,QAAgB,aAA2C,OAAY;AAC3G,QAAI,iBAAiB,aAAa;AAC9B,MAAC,MAAc,MAAM,IAAI;AAAA,IAC7B,OAAO;AACH,MAAC,MAAc,MAAM,IAAI,IAAI,YAAY,KAAK;AAAA,IAClD;AAAA,EACJ;AANO,EAAAA,SAAS;AAQT,WAAS,aAAa,QAAe,SAAgB,SAAmB;AAC3E,eAAW,UAAU,SAAS;AAC1B,YAAM,SAAU,OAAe,MAAM;AACrC,UAAI,WAAW,QAAW;AACtB,QAAC,KAAa,MAAM,IAAI;AAAA,MAC5B;AAAA,IACJ;AAAA,EACJ;AAPO,EAAAA,SAAS;AAST,WAAS,mBAAsB,OAAc,QAAgB,aAAyC;AACzG,UAAM,SAAS,IAAI,qCAAe,EAAE,WAAW,OAAO,MAAM;AAC5D,QAAI,QAAQ;AACR,aAAO;AAAA,IACX;AACA,WAAO,UAAU,OAAO,QAAQ,WAAW;AAAA,EAC/C;AANO,EAAAA,SAAS;AAAA,GAtBH;",
  "names": ["Aspects"]
}
