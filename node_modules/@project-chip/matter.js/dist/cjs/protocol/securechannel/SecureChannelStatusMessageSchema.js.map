{
  "version": 3,
  "sources": ["../../../../src/protocol/securechannel/SecureChannelStatusMessageSchema.ts"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2022-2024 Matter.js Authors\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Schema } from \"../../schema/Schema.js\";\nimport { ByteArray, Endian } from \"../../util/ByteArray.js\";\nimport { DataReader } from \"../../util/DataReader.js\";\nimport { DataWriter } from \"../../util/DataWriter.js\";\nimport { GeneralStatusCode, ProtocolStatusCode } from \"./SecureChannelMessages.js\";\n\nexport type StatusMessage = {\n    generalStatus: GeneralStatusCode;\n    protocolId: number;\n    protocolStatus: ProtocolStatusCode;\n    protocolData?: ByteArray;\n};\n\nexport class SecureChannelStatusMessageSchema extends Schema<StatusMessage, ByteArray> {\n    encodeInternal({ generalStatus, protocolId, protocolStatus, protocolData }: StatusMessage) {\n        const writer = new DataWriter(Endian.Little);\n        writer.writeUInt16(generalStatus);\n        writer.writeUInt32(protocolId);\n        writer.writeUInt16(protocolStatus);\n        if (protocolData !== undefined && protocolData.length > 0) {\n            writer.writeByteArray(protocolData);\n        }\n        return writer.toByteArray();\n    }\n\n    decodeInternal(bytes: ByteArray) {\n        const reader = new DataReader(bytes, Endian.Little);\n        const generalStatus = reader.readUInt16();\n        const protocolId = reader.readUInt32();\n        const protocolStatus = reader.readUInt16();\n        const remainingBytes = reader.getRemainingBytesCount() > 0 ? reader.getRemainingBytes() : undefined;\n\n        return { generalStatus, protocolId, protocolStatus, remainingBytes };\n    }\n}\n\nexport const TlvSecureChannelStatusMessage = new SecureChannelStatusMessageSchema();\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,oBAAuB;AACvB,uBAAkC;AAClC,wBAA2B;AAC3B,wBAA2B;AAT3B;AAAA;AAAA;AAAA;AAAA;AAmBO,MAAM,yCAAyC,qBAAiC;AAAA,EACnF,eAAe,EAAE,eAAe,YAAY,gBAAgB,aAAa,GAAkB;AACvF,UAAM,SAAS,IAAI,6BAAW,wBAAO,MAAM;AAC3C,WAAO,YAAY,aAAa;AAChC,WAAO,YAAY,UAAU;AAC7B,WAAO,YAAY,cAAc;AACjC,QAAI,iBAAiB,UAAa,aAAa,SAAS,GAAG;AACvD,aAAO,eAAe,YAAY;AAAA,IACtC;AACA,WAAO,OAAO,YAAY;AAAA,EAC9B;AAAA,EAEA,eAAe,OAAkB;AAC7B,UAAM,SAAS,IAAI,6BAAW,OAAO,wBAAO,MAAM;AAClD,UAAM,gBAAgB,OAAO,WAAW;AACxC,UAAM,aAAa,OAAO,WAAW;AACrC,UAAM,iBAAiB,OAAO,WAAW;AACzC,UAAM,iBAAiB,OAAO,uBAAuB,IAAI,IAAI,OAAO,kBAAkB,IAAI;AAE1F,WAAO,EAAE,eAAe,YAAY,gBAAgB,eAAe;AAAA,EACvE;AACJ;AAEO,MAAM,gCAAgC,IAAI,iCAAiC;",
  "names": []
}
